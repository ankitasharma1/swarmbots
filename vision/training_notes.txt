
============== 1. Label the data =============
# To annotate (draw bounding boxes) of images at data/positives, storing the
# results in annotations.txt
opencv_annotation --images data/positives --annotations annotations.txt

# Info at: https://docs.opencv.org/2.4/doc/user_guide/ug_traincascade.html
# Once the positive images are annotated, we'll need to create the .vec file
# which will contain the actual samples to be loaded by the classifier used in the
# python code. We do this because opencv_createsamples creates distortions of the
# positive images and places it within the negatives, allowing us to create an
# even more diverse set of training data for our classifier
#	-info : the annotations file created by the previous step
#	-bg  : a file where each line describes a path to a negative image we'd like to use
#			(these will be used as the background to the distorted positive images)
#	-w,-h : the width and height or the output sample image (TODO: make bigger)
#	-num : the number of positive image samples we'd like to create (should be around equal
#		to the number of bounding boxes we have in the annotations file
opencv_createsamples -num 500 -vec samples.vec -info annotations.txt -bg negatives.txt -w 20 -h 20

# Once the .vec file and negatives list has been created, we can now begin training.
# (We'll be using LBP, which is faster than HAAR, for the training algorithm)
# 
#
#
#
#
opencv_traincascade -featureType LBP -w 20 -h 20 -numPos 425 -data training_res -bg negatives.txt -acceptanceRatioBreakValue .00001 -vec samples.vec
